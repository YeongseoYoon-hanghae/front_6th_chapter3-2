# Story 2.3.2: 반복→단일 전환 로직

## Status

Draft

## Scope

- 반복 이벤트를 단일 이벤트로 전환하는 로직 구현

## Acceptance Criteria

1. `repeat.type`을 `none`으로 설정한다
2. `repeat.id`를 제거한다
3. 전환 후 반복 아이콘이 표시되지 않는다
4. 동일 `repeat.id`의 다른 인스턴스는 영향을 받지 않는다
5. 확인 다이얼로그에서 취소하면 어떤 변경도 발생하지 않는다

## Tasks

- [ ] `convertToSingleEvent(event)` 구현
- [ ] 전환 후 편집 폼/상태 반영
- [ ] 회귀 테스트(다른 이벤트 영향 없음)

## Dev Notes

- 유틸 위치: `src/utils/recurringUtils.ts`
- 불변성 유지하여 상태 업데이트
- 전환 주체: 클라이언트(`convertToSingleEvent`)에서 전환 후 저장 시 서버에도 단일로 반영
- 저장 계층은 전환된 이벤트에 `repeat.id`를 다시 주입하지 않아야 함(계약 확인)

## Testing

- [ ] 단위: `convertToSingleEvent` 결과가 `type='none'`, `interval=0`, `repeat.id` 미포함이며 원본은 불변
- [ ] 통합: “이 일정만 수정” 선택 시 폼의 반복 필드 비노출/비활성, 저장 후 해당 이벤트만 아이콘 미표시
- [ ] 통합: 동일 그룹의 다른 이벤트는 반복 아이콘 유지(무영향)
- [ ] 통합: 다이얼로그 취소 시 폼/아이콘/상태 변화 없음

## Links

- Parent: [2.3 반복 일정 단일 수정](./2.3.recurring-event-single-edit.md)
